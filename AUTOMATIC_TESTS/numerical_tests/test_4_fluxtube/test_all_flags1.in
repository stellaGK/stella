
! Simple nonlinear example based on a VMEC equillibrium at rho=0.7 
! Use this to test which flags are useless. Toggle certain flags or
! change certain variables to see if it changes the output at all.
! The flags labeled (IGNORE) will not be tested here.

!===============================================================================
!                               Magnetic Geometry                               
!===============================================================================

&geometry_options
  geometry_option = 'vmec'
/
&geometry_vmec
  alpha0 = 0.0					               ! (TOGGLE)
  nfield_periods = 6.073867			      ! (TOGGLE)
  surface_option = 0				            ! (TOGGLE)
  torflux = 0.49				               ! (TOGGLE)
  verbose = .true.
  vmec_filename = 'wout_w7x_kjm.nc'
  zeta_center = 0.0				            ! (TOGGLE)  
/

!===============================================================================
!                                    Physics                                    
!===============================================================================


&gyrokinetic_terms
  simulation_domain = 'fluxtube'
  include_mirror = .true.			           ! Already tested in test_4_gyrokinetic_equation
  include_parallel_streaming = .true.		   ! Already tested in test_4_gyrokinetic_equation
  include_xdrift = .true. !! xdriftknob = 1.0 or 0.0 
  include_ydrift = .true. !! ydriftknob = 1.0 or 0.0
  include_drive = .true. !! wstarknob = 1.0 or 0.0 
  include_nonlinear = .true.				           ! Already tested in test_4_gyrokinetic_equation
  include_parallel_nonlinearity = .false.	   ! (TOGGLE)
  include_electromagnetic = .false.
/

&scale_gyrokinetic_terms
  xdriftknob = 1.0 
  ydriftknob = 1.0
  wstarknob = 1.0
  fphi = 1.0 
  suppress_zonal_interaction = .false.
/

&adiabatic_electron_response
  adiabatic_option = 'default'
  tite = 1.0
  nine = 1.0
/

&electromagnetic
  beta = 0.01
/

&flow_shear
  prp_shear_enabled = .false.
  hammett_flow_shear = .true.
  g_exb = 0.0
  g_exbfac = 1.0
  omprimfac = 1.0
/

!&flux_annulus
!  rhostar = 0.0
!/

&extra
   include_pressure_variation = .true.
   include_geometric_variation = .true.
   radial_variation = .false. 
   zeff = 0.01
   vnew_ref = 0.01
/

!===============================================================================
!                                Kinetic species                                
!===============================================================================

&species_options
  nspec = 2 
  species_option = 'stella'			      ! (IGNORE) Choose between {stella, input.profiles, euterpe}
  read_profile_variation = .false.		   ! (IGNORE-RV) Part of the radial variation routines
  write_profile_variation = .false.		   ! (IGNORE-RV) Part of the radial variation routines
/
&species_parameters_1
  dens = 1.0
  fprim = 1.0
  mass = 1.0
  temp = 1.0
  tprim = 3.0
  type = 'ion'
  z = 1.0
/
&species_parameters_2
  dens = 1.0
  fprim = 1.0
  mass = 0.0005446
  temp = 1.0
  tprim = 3.0
  type = 'electron'
  z = -1.0
/

!===============================================================================
!                       Discretized (kx,ky,z,mu,vpa) grid                       
!===============================================================================

&kxky_grid_option
  grid_option = 'box'
/
&kxky_grid_box
  nx = 9
  ny = 12
  y0 = 15
/
&z_grid
  nzed = 12
  zed_equal_arc = .true.			         ! (TOGGLE)
/
&z_boundary_condition
  boundary_option = 'stellarator'
/
&velocity_grids
  nmu = 4 
  nvgrid = 3
/

!===============================================================================
!                                  Diagnostics                                  
!===============================================================================

&diagnostics
  nsave = 10
  nwrite = 1
/

!===============================================================================
!                              Initialise potential                             
!===============================================================================

&initialise_distribution
  initialise_distribution_option = 'noise'
  phiinit = 0.01
/

!===============================================================================
!                                    Numerics                                   
!===============================================================================

&time_trace_options
  nstep = 10
/

&time_step
  delt = 0.01
/

&numerical_algorithms
  explicit_algorithm = 'rk2'
/

&numerical_extra
  print_extra_info_to_terminal = .false.
  rng_seed = 1
/

!===============================================================================
!                                  Dissipation                                  
!===============================================================================

&dissipation
  hyper_dissipation = .true.
/
